---
lab:
    title: 'ラボ 03: Azure Project Wiki を使用してチーム知識を共有する'
    module: 'モジュール 3: 技術的負債の管理'
---

# ラボ 03: Azure Project Wiki を使用してチーム知識を共有する
# 受講生用ラボ マニュアル

## ラボの概要

このラボでは、Markdown コンテンツの管理やマーメイド ダイアグラムの作成など、Azure DevOps で Wiki を作成および構成します。

## 目標

このラボを完了すると、次のことができるようになります。

- Azure プロジェクトで Wiki を作成する
- Markdown を追加および編集する
- マーメイド ダイアグラムを作成する

## ラボの所要時間

-   推定時間: **45 分**

## 手順

### 開始する前に

#### ラボの仮想マシンにログインする

必ず次の資格情報を使用して Windows 10 コンピューターにサインインしてください。
    
-   ユーザー名: **Student**
-   パスワード: **Pa55w.rd**

#### インストールされているアプリケーションを確認します

Windows デスクトップでタスクバーを見つけます。タスク バーには、この課題で使用するアプリケーションのアイコンが含まれています:
    
-   Microsoft Edge

#### Azure DevOps 組織を設定します。 

このラボで使用できる Azure DevOps 組織がまだない場合は、[組織またはプロジェクト コレクションの作成](https://docs.microsoft.com/ja-jp/azure/devops/organizations/accounts/create-organization?view=azure-devops)で利用できる手順に従って作成してください。

### 演習 0: ラボの前提条件の構成

この演習では、ラボの前提条件を設定します。これは、Azure DevOps Demo Generator テンプレートおよび Microsoft Teams で作成したチームに基づいて事前に構成された **Tailwind Traders** チーム プロジェクトから成っています。

#### タスク 1: チーム プロジェクトを構成する

このタスクでは、Azure DevOps Demo Generator を使用し、**Tailwind Traders** テンプレートに基づいて新しいプロジェクトを生成します。

1.  ラボのコンピューターで Web ブラウザーを起動し、[Azure DevOps Demo Generator](https://azuredevopsdemogenerator.azurewebsites.net) に移動します。このユーティリティ サイトは、ラボで必要なコンテンツ (作業項目、リポジトリなど) が事前設定されている新しい Azure DevOps プロジェクトをアカウント内で作成するプロセスを自動化します。 

    > **注**: サイトの詳細については、https://docs.microsoft.com/ja-jp/azure/devops/demo-gen をご覧ください。

1.  「**サインイン**」をクリックし、Azure DevOps サブスクリプションに関連のある Microsoft アカウントを使用してサインインします。

1.  必要な場合は、「**Azure DevOps Demo Generator**」ページで「**承諾する**」をクリックし、Azure DevOps サブスクリプションへのアクセス許可要求を承諾します。

1.  「**新しいプロジェクトの作成**」ページの 「**新しいプロジェクト名**」テキストボックスに、「**Sharing Team Knowledge using Azure Project Wikis**」と入力し、「**組織の選択**」ドロップダウン リストで、Azure DevOps 組織を選択して、「**テンプレートの選択**」をクリックします。

1.  テンプレートの一覧 で 「**Tailwind Traders**」テンプレートを選択 し、「**テンプレートの選択**」をクリックします。

1.  再び 「**新しいプロジェクトの作成**」ページで、欠落している拡張機能をインストールするよう指示されたら 「**ARM Outputs**」の下にあるチェックボックスを選択し、「**プロジェクトの作成**」をクリックします。

    > **注**: プロセスが完了するまでお待ちください。これにはおよそ 2 分かかる場合があります。プロセスが失敗した場合は、Azure DevOps 組織に移動し、プロジェクトを削除して、再試行してください。

1.  「**新しいプロジェクトの作成**」ページで「**プロジェクトに移動**」をクリックします。

### 演習 1: コードを Wiki として公開する

この演習では、Azure DevOps リポジトリを Wiki として公開し、公開された Wiki を管理する手順を説明します。

> **注**: Git リポジトリに保持しているコンテンツは、Azure DevOps wiki に公開できます。たとえば、ソフトウェア開発キット、製品ドキュメント、またはREADME ファイルをサポートするために作成されたコンテンツは、Wiki に直接公開できます。同じ Azure DevOps チーム プロジェクト内で複数の Wiki を公開するオプションがあります。

#### タスク 1: Azure DevOps リポジトリのブランチを wiki として公開する

このタスクでは、Azure DevOps リポジトリのブランチを wiki として公開します。

> **注**: 公開された Wiki が製品バージョンに対応している場合は、製品の新しいバージョンをリリースするときに新しいブランチを公開できます。 

1.  ラボ コンピューターで、「**Sharing Team Knowledge using Azure Project Wikis**」と表示されている Azure DevOps ポータルの左側の垂直メニューの 「**概要**」 セクションで、「**Wiki**」 をクリックして既存のコンテンツを確認します。 

1.  左側の垂直メニューで 「**リポジトリ**」 をクリックし、「**ファイル**」 ペインの上のセクションで **TailwindTraders-Website** リポジトリが選択されていることを確認します (Git アイコンのある最上部のドロップダウンから選択します)。<br><br>     ブランチ ドロップダウン リストで 「**main**」 を選択し、メイン ブランチのコンテンツをレビューします。

1.  「**ファイル**」ペインの左側にあるリポジトリフォルダーとファイル階層のリストで、「**Documents/Images**」サブフォルダーを展開し、**Website.png** エントリを見つけ、マウス ポインターを右端に置いて 「**その他**」メニューを表す縦の省略記号 (3 つの点) をクリックし、ドロップダウンメニューから「**Download**」をクリックして、**Website.png** ファイルをラボ コンピューターのローカルの**ダウンロード** フォルダーにダウンロードします。 

    >**注**: この画像は、このラボの次の演習で使用します。

1.  左側の垂直メニューで 「**概要**」をクリックし、「**概要**」セクションで 「**Wiki**」を選択し、ペインの上部で 「**Tailwind Traders**」ドロップダウン メニューを選択し、ドロップダウン リストで 「**Publish code as wiki**」を選択します。 

1.  「**コードを Wiki として公開**」ペインで、次の設定を指定して 「**Publish**」をクリックします。

    | 設定 | 値 |
    | ------- | ----- |
    | リポジトリ | **TailwindTraders-Website** |
    | 「Branch」\(ブランチ) | **main** |
    | Folder | **Documents** |
    | Wiki 名 | **Tailwind Traders (ドキュメント)** |

    >**注**: これは、自動的に **README** ファイルの内容を表示します。

1.  **GitHubActions** ファイルのコンテンツを確認し、基になるリポジトリの構造と一致する wiki の全体的な構造に注意してください。

1.  ペインの上部で、「**Tailwind Traders (ドキュメント)**」ドロップダウン メニュー ヘッダーを選択し、この Wiki と以前に公開された Wiki を簡単に切り替えることができることに注意してください。

#### タスク 2: 公開された Wiki のコンテンツを管理する

このタスクでは、前のタスクで公開した Wiki のコンテンツを管理します。

1.  左側の垂直メニューで 「**リポジトリ**」をクリックし、「**ファイル**」ペインの上部にあるドロップダウンメ ニューに **TailwindTraders-Website** リポジトリと**main** ブランチが表示されていることを確認します。<br><br>   リポジトリ フォルダー階層で「**Documents**」フォルダーを選択し、右上隅にある 「**New**」をクリックして、ドロップダウン メニューで、「**ファイル**」をクリックします。 

1.  「**新しいファイル**」パネルの「**新しいファイル名**」で、「**ドキュメント**」プレフィックスの後に「**.order**」と入力し、「**作成**」をクリックします。

1.  「**.order**」ペインの 「**コンテンツ**」タブで、次のように入力し、「**コミット**」をクリックします。

    ```text
    GitHubActions
    Images
    ```

1.  「**コミット**]ペインで、「**コミット**」をクリックします。

1.  左側の垂直メニューで 「**概要**」をクリックし、「**概要**」セクションで 「**Wiki**」を選択し、ペインの上部に **Tailwind Traders (ドキュメント)** が表示されることを確認して、Wiki コンテンツの順序を確認します。 

    >**注**: Wiki コンテンツの順序は、**「.order」**　ファイルにリストされているファイルとフォルダーの順序に一致しています。

1.  左側の垂直メニューで 「**リポジトリ**」 をクリックし、「**ファイル**」 ペインの上部にあるドロップダウン メニューに **TailwindTraders-Website** リポジトリと **main** ブランチが表示されていることを確認し、ファイルのリストの 「**Documents**」 で 「**GitHubActions.md**」 を選択し、「**GitHubActions.md**」 ペインで 「**Edit**」 をクリックします。 

1.  「**GitHubActions.md**」ペインの `#GitHub Actions` ヘッダーのすぐ下に、「**ドキュメント**」フォルダー内の画像の 1 つを参照する次の Markdown 要素を追加します。

    ```
    ![Tailwind Traders Website](Images/Website.png)
    ```    

1.  「**GitHubActions.md**」ペインで、「**コミット**」をクリックし、「**コミット**」ペインで 「**コミット**」をクリックします。

1.  「**GitHubActions.md**」ペインの 「**Preview**」タブで、画像が表示されていることを確認します。

1.  左側の垂直メニューで 「**概要**」をクリックし、「**概要**」セクションで 「**Wiki**」を選択し、ペインの上部に **Tailwind Traders (ドキュメント)** が表示されていること、および 「**GitHubActions**」ペインのコンテンツに新しく参照された画像が含まれていることを確認します。 

### 演習 2: プロジェクト Wiki の作成と管理

この演習では、プロジェクト Wiki の作成と管理について説明します。

> **注**: 既存のリポジトリとは別に、Wiki を作成および管理できます。 

#### タスク 1: マーメイド図と画像を含むプロジェクト Wiki を作成する

このタスクでは、プロジェクト Wiki を作成し、それにマーメイド図と画像を追加します。

1.  ラボ コンピューターで、**Sharing Team Knowledge using Azure Project Wikis**の Wiki ペインを表示する Azure DevOps ポータルで、**Tailwind Traders (ドキュメント)** wiki のコンテンツを選択し、ペインの上部で **Tailwind Traders (ドキュメント)** ドロップダウン リストで 「**Create new project wiki**」を選択します。 

1.  「**ページ タイトル**」テキスト ボックスに、「**プロジェクト設計**」と入力します。

1.  ページの本文にカーソルを置き、一番左側のボタンでをクリックして 「**Header 1**」を選択します。これにより、ハッシュ文字 (**#**) が自動的に追加されます。

1.  新しく追加された **#** 文字の直後に、「**Authentication and Authorization**」と入力し、**Enter** キーを押します。

1.  ヘッダー設定を表すツールバーの左端のアイコンをクリックし、 「**Header 2**」をクリックします。これにより、行の先頭にハッシュ文字 (**##**) が自動的に追加されます。

1.  新しく追加された **##** 文字の直後に、「**Azure DevOps OAuth 2.0 認証フロー**」と入力し、**Enter** キーを押します。

1.  以下のコードを**コピーして貼り付け**、wiki にマーメイド ダイアグラムを挿入します。

    ```
    ::: mermaid
    sequenceDiagram
     participant U as User
     participant A as Your app
     participant D as Azure DevOps
     U->>A: Use your app
     A->>D: Request authorization for user
     D-->>U: Request authorization
     U->>D: Grant authorization
     D-->>A: Send authorization code
     A->>D: Get access token
     D-->>A: Send access token
     A->>D: Call REST API with access token
     D-->>A: Respond to REST API
     A-->>U: Relay REST API response
    :::
    ```

    >**注**: マーメイド構文の詳細については、「[マーメイドについて](https://mermaid-js.github.io/mermaid/#/)」を参照してください。

1.  エディター ペインの右側にある、プレビュー ペインで、「**Load Diagram**」をクリックして、結果を確認します。 

    >**注**: 出力は、[OAuth 2.0を使用してREST API へのアクセスを承認する](https://docs.microsoft.com/ja-jp/azure/devops/integrate/get-started/authentication/oauth?view=azure-devops)方法を示すフローチャートのようになります。

1.  エディター ペインの右上隅にある 「**Save**」ボタンの横にある下向きのキャレットをクリックし、ドロップダウン メニューで、「**Save with revision message**」をクリックします。 

1.  「**保存ページ**」ダイアログ ボックスで、「**OAuth 2.0 マーメイド図を使用した認証と承認セクション**」と入力し、「**保存**」をクリックします。

1.  **プロジェクト設計**エディター ペインで、このタスクの前半で追加したマーメイド要素の最後にカーソルを置き、**Enter** キーを押して行を追加し、ヘッダー設定ボタンをクリックし「**Header 2**」を選択します。これにより、行の先頭にダブルハッシュ文字 (**##**) が自動的に追加されます。

1.  新しく追加された **##** 文字の直後に、「**User Interface**」と入力し、**Enter** キーを押します。

1.  **プロジェクト設計**エディター ペインのツールバーで、「**ファイルの挿入**」アクションを表すペーパー クリップ アイコンをクリックし、「**開く**」ダイアログ ボックスで 「**ダウンロード**」フォルダーに移動し、前の演習でダウンロードした **Website.png** ファイルを選択して 「**開く**」をクリックします。

1.  **プロジェクト設計**エディター ペインに戻り、プレビュー ペインを確認して、画像が正しく表示されていることを確認します。

1.  ます。エディター ペインの右上隅にある 「**Save**」ボタンの横にある下向きのキャレットをクリックし、ドロップダウン メニューで、「**Save with revision message**」をクリックします。 

1.  「**ページの保存**」ダイアログ ボックスで、「**Tailwind Traders イメージを含むユーザー インターフェイス セクション**」と入力し、「**保存**」をクリックします。

1.  エディター ペインに戻り、右上隅にある 「**Close**」をクリックします。 

#### タスク 2: プロジェクト Wiki の管理

このタスクでは、新しく作成されたプロジェクト Wiki を管理します。

>**注**: まず、Wiki ページへの最新の変更を元に戻します。

1.  ラボ コンピューターで、Wiki ペインを表示する Azure DevOps ポータルで、**プロジェクト設計** Wiki のコンテンツを選択した状態で、右上隅にある縦の省略記号をクリックし、ドロップダウン メニューで、「**View revisions**」をクリックします。

1.  「**リビジョン**」ペインで、最新の変更を表すエントリをクリックします。 

1.  表示されたペインで、ドキュメントの以前のバージョンと現在のバージョンの比較を確認し、「**Revert**」をクリックし、確認を求められたら、もう一度 「**Revert**」をクリックして、「**Browse Page**」をクリックします。 

1.  「**プロジェクト設計**」ペインに戻り、変更が正常に元に戻されたことを確認します。

    >**注**: ここで、プロジェクト Wiki に別のページを追加し、それを Wiki ホーム ページとして設定します。

1.  「**プロジェク設計**」ペインの左下隅にある 「**+ New page**」をクリックします。

1.  ページ エディター ペインの 「**ページ タイトル**」テキストボックスに「**プロジェクト設計の概要**」と入力し、「**保存**」をクリックして、「**閉じる**」をクリックします。

1.  **プロジェクト設計**プロジェクト Wiki 内のページを一覧表示するペインに戻り、**プロジェクト設計の概要**エントリを見つけ、マウス ポインターで選択し、**プロジェクト設計**ページ エントリの上にドラッグ アンド ドロップします。 

1.  **プロジェクト設計の概要**エントリがトップレベル ページとして一覧表示され、ホーム アイコンがそれを Wiki ホーム ページとして指定していることを確認します。

## レビュー

このラボでは、Markdown コンテンツの管理やマーメイド図の作成など、Azure DevOps で Wiki を作成および構成しました。
